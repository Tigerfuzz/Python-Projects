#importing libraries
import random
import time

#creating guesses variable
guesses = 0

#printing first lines of text
print("Below, type how many letters long your word is going to be.")
print("")

#opening built-in MacOS dictionary document through wfile variable
wfile = open("/usr/share/dict/words", "r")

#storing the contents of the built-in file into the 'words' variable
if wfile.mode == "r":
    wordlist = wfile.readlines()

#generates random word and takes user input
usrwordl = int(input("Word Length: "))
ranword = random.choice(wordlist)
ranword = ranword.rstrip('\n')
ranword = ranword.lower()
ranwordl = len(ranword)

#checking that the random word matches user input length, has no repeating characters, removes whitespace and uppercase
while ranwordl != usrwordl or (int(len(ranword)) != int(len(set(ranword)))):
    ranword = random.choice(wordlist)
    ranword = ranword.rstrip('\n')
    ranword = ranword.lower()
    ranwordl = len(ranword)
    if (int(len(ranword)) == int(len(set(ranword)))) and (ranwordl == usrwordl):
        break

#prints instructions
print("")
time.sleep(1)
print("Ok, a unique, random " + str(usrwordl) + " letter word has been generated.")
time.sleep(2)
print("You have unlimited guesses to figure out what it is. Clues about the word with be given with each guess.")
time.sleep(2)
print("Your guess must have all unique characters, same amount of letters as the chosen word and made of only letters.")
print("If these guessing requirements are not met, 'Try Again' will be printed below your illegitimate guess.")
time.sleep(2)
print("An empty circle means a character is existent in your guess and the chosen word but is incorrectly placed.")
print("A filled in circle means a character is existent in your guess, the chosen word and is correctly placed.")
time.sleep(2)
print("Each clue refers to one character in your guess but can change in your next guess based on the character order.")
time.sleep(2)
print("Start!")
print("")

#starts guessing program
guesses = guesses + 1
guess = input("G" + str(guesses) + " : ")

while guess != ranword:
    if len(guess) == len(ranword) and len(set(guess)) == len(guess) and guess.isalpha() is True:
        #uses indexes to check for similar characters
        for char in guess:
            if char in ranword:
                if char in ranword and guess.index(char) == ranword.index(char):
                    print("\N{black circle}", end="")
                else:
                    print("\N{white circle}", end="")
        #guessing again
        print("")
        print("")
        guesses = guesses + 1
        guess = input("G" + str(guesses) + " : ")

    else:
        print("Try Again")
        print("")
        guess = input("G" + str(guesses) + " : ")

#win message
if guesses == 1:
    print("Correct! You guessed the word in one try!")
else:
    print("Correct! You guessed the word in " + str(guesses) + " tries!")
